<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayuda - Sistema de Llegadas</title>
</head>
<body>

<!-- Contenido de Ayuda para Llegadas -->
<div class="ayuda-container">
    
    <!-- Secci√≥n: C√°lculo Autom√°tico de Fechas en Docencia -->
    <div class="ayuda-seccion">
        <h3>üìÖ C√°lculo Autom√°tico de Fechas - Matriculaci√≥n (Docencia)</h3>
        
        <h4>¬øC√≥mo funciona?</h4>
        <p>El sistema calcula autom√°ticamente las fechas de inicio y finalizaci√≥n del curso bas√°ndose en la fecha de llegada del alumno y la tarifa seleccionada.</p>
        
        <h4>Fecha de Inicio del Curso</h4>
        <div class="ayuda-exito">
            <strong>‚úì Regla:</strong> Los cursos siempre comienzan el lunes.
        </div>
        <p><strong>Cuando introduces la fecha de llegada del alumno</strong>, el sistema autom√°ticamente propone <strong>el lunes siguiente</strong> a esa fecha como inicio del curso.</p>
        
        <div class="ayuda-ejemplo">
            <strong>Ejemplo:</strong><br>
            ‚Ä¢ Fecha de llegada: <code>19/10/2026</code> (domingo)<br>
            ‚Ä¢ Fecha inicio curso propuesta: <code>20/10/2026</code> (lunes)
        </div>
        
        <div class="ayuda-ejemplo">
            <strong>Otro ejemplo:</strong><br>
            ‚Ä¢ Fecha de llegada: <code>15/10/2026</code> (jueves)<br>
            ‚Ä¢ Fecha inicio curso propuesta: <code>19/10/2026</code> (lunes siguiente)
        </div>
        
        <h4>Fecha de Finalizaci√≥n del Curso</h4>
        <div class="ayuda-exito">
            <strong>‚úì Regla:</strong> Los cursos finalizan el viernes.
        </div>
        <p><strong>Cuando seleccionas una tarifa</strong> que tenga medida en "semanas" o "semana", el sistema:</p>
        <ul class="lista-pasos">
            <li>1. Toma la fecha de inicio del curso</li>
            <li>2. Suma el n√∫mero de semanas indicado en la tarifa</li>
            <li>3. Ajusta la fecha resultante al <strong>viernes anterior</strong> a la fecha calculada</li>
        </ul>
        
        <div class="ayuda-ejemplo">
            <strong>Ejemplo con curso de 2 semanas:</strong><br>
            ‚Ä¢ Fecha inicio curso: <code>20/10/2026</code> (lunes)<br>
            ‚Ä¢ Tarifa: <code>2 semanas</code><br>
            ‚Ä¢ C√°lculo: 20/10/2026 + 14 d√≠as = 03/11/2026 (martes)<br>
            ‚Ä¢ Fecha final propuesta: <code>30/10/2026</code> (viernes anterior)
        </div>
        
        <div class="ayuda-nota">
            <strong>üìå Nota:</strong> Las fechas propuestas son sugerencias. Puedes modificarlas manualmente seg√∫n las necesidades espec√≠ficas del alumno.
        </div>
        
        <h4>Formato de Fechas</h4>
        <p>Todas las fechas deben introducirse y se mostrar√°n en <strong>formato espa√±ol</strong>:</p>
        <div class="ayuda-ejemplo">
            <code>DD/MM/AAAA</code><br>
            Ejemplo: <code>20/10/2026</code>
        </div>
    </div>
    
    <!-- Secci√≥n: C√°lculo Autom√°tico de Fechas en Alojamiento -->
    <div class="ayuda-seccion">
        <h3>üè† C√°lculo Autom√°tico de Fechas - Alojamiento</h3>
        
        <h4>¬øC√≥mo funciona?</h4>
        <p>Similar a la docencia, el sistema calcula autom√°ticamente las fechas de entrada y salida del alojamiento bas√°ndose en las fechas del curso.</p>
        
        <h4>Fecha de Entrada al Alojamiento</h4>
        <div class="ayuda-exito">
            <strong>‚úì Regla:</strong> La entrada al alojamiento es el <strong>d√≠a anterior al inicio del curso</strong> (normalmente un domingo).
        </div>
        
        <div class="ayuda-ejemplo">
            <strong>Ejemplo:</strong><br>
            ‚Ä¢ Fecha inicio curso: <code>20/10/2026</code> (lunes)<br>
            ‚Ä¢ Fecha entrada alojamiento propuesta: <code>19/10/2026</code> (domingo)
        </div>
        
        <h4>Fecha de Salida del Alojamiento</h4>
        <div class="ayuda-exito">
            <strong>‚úì Regla:</strong> La salida del alojamiento es el <strong>s√°bado siguiente al final del curso</strong>.
        </div>
        <p><strong>Cuando seleccionas una tarifa de alojamiento</strong> que tenga medida en "semanas" o "semana", el sistema:</p>
        <ul class="lista-pasos">
            <li>1. Toma la fecha de entrada al alojamiento</li>
            <li>2. Suma el n√∫mero de semanas indicado en la tarifa</li>
            <li>3. Ajusta la fecha resultante al <strong>s√°bado anterior</strong> a la fecha calculada</li>
        </ul>
        
        <div class="ayuda-ejemplo">
            <strong>Ejemplo con alojamiento de 2 semanas:</strong><br>
            ‚Ä¢ Fecha entrada alojamiento: <code>19/10/2026</code> (domingo)<br>
            ‚Ä¢ Tarifa: <code>2 semanas</code><br>
            ‚Ä¢ C√°lculo: 19/10/2026 + 14 d√≠as = 02/11/2026 (lunes)<br>
            ‚Ä¢ Fecha salida propuesta: <code>31/10/2026</code> (s√°bado anterior)
        </div>
        
        <div class="ayuda-importante">
            <strong>‚ö†Ô∏è Importante:</strong> Al guardar un registro de alojamiento, los campos se limpian autom√°ticamente excepto la <strong>Fecha de Entrada</strong>, que se mantiene para facilitar la captura de m√∫ltiples alojamientos con la misma fecha.
        </div>
        
        <h4>Hora de Salida</h4>
        <p>Por defecto, la hora de salida del alojamiento se establece en <code>11:00</code>, pero puede modificarse seg√∫n las necesidades.</p>
    </div>
    
    <!-- Secci√≥n: Sistema de Alertas de Pago -->
    <div class="ayuda-seccion">
        <h3>üö® Sistema de Alertas de Pago</h3>
        
        <h4>¬øC√≥mo funciona?</h4>
        <p>La tabla de llegadas incluye una columna <strong>"Alerta Pago"</strong> que muestra el estado de pago de cada alumno en funci√≥n de los d√≠as que faltan para el inicio del curso y el importe pendiente de pago.</p>
        
        <h4>Niveles de Alerta y Colores</h4>
        <p>El sistema clasifica las alertas en 6 niveles seg√∫n la urgencia, cada uno con un color distintivo:</p>
        
        <div class="alerta-grid">
            <div class="alerta-item alerta-vencido">
                <div class="alerta-badge">VENCIDO</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> El curso ya ha comenzado y hay pago pendiente<br>
                    <strong>D√≠as:</strong> Curso iniciado (d√≠as negativos)<br>
                    <strong>Acci√≥n:</strong> Contactar urgentemente al alumno
                </div>
            </div>
            
            <div class="alerta-item alerta-critico">
                <div class="alerta-badge">CR√çTICO</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> Pago pendiente con inicio inminente<br>
                    <strong>D√≠as:</strong> 0 a 3 d√≠as antes del inicio<br>
                    <strong>Acci√≥n:</strong> Prioridad m√°xima de cobro
                </div>
            </div>
            
            <div class="alerta-item alerta-urgente">
                <div class="alerta-badge">URGENTE</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> Pago pendiente pr√≥ximo a vencer<br>
                    <strong>D√≠as:</strong> 4 a 7 d√≠as antes del inicio<br>
                    <strong>Acci√≥n:</strong> Recordatorio urgente de pago
                </div>
            </div>
            
            <div class="alerta-item alerta-importante">
                <div class="alerta-badge">IMPORTANTE</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> Plazo moderado para gestionar el pago<br>
                    <strong>D√≠as:</strong> 8 a 15 d√≠as antes del inicio<br>
                    <strong>Acci√≥n:</strong> Realizar seguimiento del pago
                </div>
            </div>
            
            <div class="alerta-item alerta-aviso">
                <div class="alerta-badge">AVISO</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> Tiempo suficiente para gestionar<br>
                    <strong>D√≠as:</strong> 16 a 30 d√≠as antes del inicio<br>
                    <strong>Acci√≥n:</strong> Enviar recordatorio preventivo
                </div>
            </div>
            
            <div class="alerta-item alerta-normal">
                <div class="alerta-badge">NORMAL</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> Situaci√≥n bajo control<br>
                    <strong>D√≠as:</strong> 31 a 45 d√≠as antes del inicio<br>
                    <strong>Acci√≥n:</strong> Monitoreo rutinario
                </div>
            </div>
            
            <div class="alerta-item alerta-sin">
                <div class="alerta-badge">Sin Alerta</div>
                <div class="alerta-descripcion">
                    <strong>Situaci√≥n:</strong> No requiere atenci√≥n inmediata<br>
                    <strong>Casos:</strong> Pago completo o curso a m√°s de 45 d√≠as<br>
                    <strong>Acci√≥n:</strong> Sin acci√≥n requerida
                </div>
            </div>
        </div>
        
        <div class="ayuda-nota">
            <strong>üìå Nota:</strong> Al pasar el rat√≥n sobre el badge de alerta, se muestra un mensaje descriptivo completo de la situaci√≥n.
        </div>
        
        <div class="ayuda-importante">
            <strong>‚ö†Ô∏è Importante:</strong> Las alertas se calculan autom√°ticamente considerando:
            <ul style="margin-top: 8px; margin-bottom: 0;">
                <li>Total facturado (matr√≠culas + alojamientos + transfers)</li>
                <li>Total pagado (pagos anticipados)</li>
                <li>Fecha actual vs. fecha de inicio del curso</li>
                <li>Solo se muestran alertas si hay importe pendiente mayor a 0‚Ç¨</li>
            </ul>
        </div>
        
        <h4>B√∫squeda y Filtrado</h4>
        <p>Puedes buscar llegadas por nivel de alerta usando el campo de b√∫squeda en la columna "Alerta Pago". Por ejemplo:</p>
        <ul class="lista-pasos">
            <li>Escribe <strong>"CR√çTICO"</strong> para ver solo las llegadas con alerta cr√≠tica</li>
            <li>Escribe <strong>"VENCIDO"</strong> para revisar pagos atrasados</li>
            <li>Escribe <strong>"Sin Alerta"</strong> para ver llegadas con pago completo</li>
        </ul>
    </div>
    
    <!-- Secci√≥n: Consejos y Mejores Pr√°cticas -->
    <div class="ayuda-seccion">
        <h3>üí° Consejos y Mejores Pr√°cticas</h3>
        
        <ul class="lista-pasos">
            <li><strong>Verifica las fechas propuestas:</strong> Aunque el sistema calcula autom√°ticamente las fechas, siempre revisa que sean correctas antes de guardar.</li>
            <li><strong>Tarifas con semanas:</strong> El c√°lculo autom√°tico solo funciona cuando la tarifa tiene como medida "semana" o "semanas".</li>
            <li><strong>Fechas personalizadas:</strong> Si necesitas fechas espec√≠ficas que no sigan el patr√≥n est√°ndar (lunes-viernes), puedes modificarlas manualmente.</li>
            <li><strong>Formato de fecha:</strong> Usa siempre el formato DD/MM/AAAA. El selector de fecha te ayudar√° a introducir las fechas correctamente.</li>
            <li><strong>Campos deshabilitados:</strong> Los campos como Importe, IVA y Descuento se rellenan autom√°ticamente al seleccionar una tarifa y est√°n deshabilitados para evitar errores.</li>
            <li><strong>Prioriza alertas cr√≠ticas:</strong> Revisa diariamente la columna de alertas y prioriza los niveles VENCIDO y CR√çTICO.</li>
            <li><strong>Seguimiento proactivo:</strong> No esperes a que las alertas sean cr√≠ticas, contacta a los alumnos cuando aparezcan alertas IMPORTANTES o AVISO.</li>
        </ul>
    </div>
    
</div>

<style>
    .ayuda-container {
        padding: 20px;
    }
    .ayuda-seccion {
        margin-bottom: 30px;
        padding: 20px;
        border-left: 4px solid #17a2b8;
        background-color: #f8f9fa;
        border-radius: 5px;
    }
    .ayuda-seccion h3 {
        color: #17a2b8;
        margin-bottom: 15px;
        font-size: 1.5rem;
    }
    .ayuda-seccion h4 {
        color: #495057;
        margin-top: 15px;
        margin-bottom: 10px;
        font-size: 1.2rem;
    }
    .ayuda-ejemplo {
        background-color: #e9ecef;
        padding: 10px 15px;
        border-radius: 4px;
        margin: 10px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
    }
    .ayuda-nota {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 10px 15px;
        margin: 10px 0;
        border-radius: 4px;
    }
    .ayuda-importante {
        background-color: #f8d7da;
        border-left: 4px solid #dc3545;
        padding: 10px 15px;
        margin: 10px 0;
        border-radius: 4px;
    }
    .ayuda-exito {
        background-color: #d4edda;
        border-left: 4px solid #28a745;
        padding: 10px 15px;
        margin: 10px 0;
        border-radius: 4px;
    }
    ul.lista-pasos {
        line-height: 1.8;
    }
    ul.lista-pasos li {
        margin-bottom: 8px;
    }
    code {
        background-color: #e9ecef;
        padding: 2px 6px;
        border-radius: 3px;
        color: #d63384;
        font-weight: 600;
    }
    
    /* Estilos para Sistema de Alertas */
    .alerta-grid {
        display: grid;
        gap: 15px;
        margin: 20px 0;
    }
    .alerta-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        border-radius: 8px;
        background-color: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        align-items: center;
    }
    .alerta-badge {
        min-width: 110px;
        padding: 8px 12px;
        border-radius: 6px;
        text-align: center;
        font-weight: bold;
        font-size: 0.95rem;
        color: white;
        text-transform: uppercase;
    }
    .alerta-descripcion {
        flex: 1;
        font-size: 0.9rem;
        line-height: 1.6;
    }
    .alerta-descripcion strong {
        color: #495057;
    }
    
    /* Colores espec√≠ficos para cada nivel */
    .alerta-vencido .alerta-badge {
        background-color: #8B0000;
    }
    .alerta-critico .alerta-badge {
        background-color: #DC143C;
    }
    .alerta-urgente .alerta-badge {
        background-color: #FF4500;
    }
    .alerta-importante .alerta-badge {
        background-color: #FF8C00;
    }
    .alerta-aviso .alerta-badge {
        background-color: #FFD700;
        color: #333;
    }
    .alerta-normal .alerta-badge {
        background-color: #32CD32;
    }
    .alerta-sin .alerta-badge {
        background-color: #e9ecef;
        color: #333;
        border: 1px solid #dee2e6;
    }
</style>

</body>
</html>
